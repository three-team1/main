<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>초능력</title>
<link href="/css/main.css" rel="stylesheet">
<script src="https://code.jquery.com/jquery-3.6.4.min.js"
	integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8="
	crossorigin="anonymous"></script>
	
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link
	href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding:wght@400;700&family=Noto+Sans+KR&display=swap"
	rel="stylesheet">
<link type="image/png" sizes="32x32" rel="icon"
	href="/icon/icons8-에너지-32.png">
	
	<script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=janotqw4un"></script>
</head>

<body>

	<header>
		<div class="nav-bar-container">

			<div class="nav-logo">
				<a href="/"> <img
					src="icon/Black n White Luxury  Rent Car Logo.png">
				</a>


			</div>

			<div class="nav-bar-item-box">
				<div class="nav-bar-item">
					<a href="/product/productList"> <span></span> <span></span> <span></span> <span></span>
						컬렉션
					</a>
				</div>

				<div class="nav-bar-item">
					<a href="/board/list"> <span></span> <span></span> <span></span>
						<span></span> 커뮤니티
					</a>
				</div>

				<div class="nav-bar-item">
					<a href="#"> <span></span> <span></span> <span></span> <span></span>
						Q&A
					</a>
				</div>

				<div class="nav-bar-item">
					<a href="#"> <span></span> <span></span> <span></span> <span></span>
						장바구니
					</a>
				</div>

			</div>


			<div class="nav-bar-member-text" sec:authorize="isAuthenticated()">
				<p>
					환영합니다! <span class="username" sec:authentication="name"></span>님
				</p>
				<a href="/mypage">마이페이지</a>
			</div>

			<div class="nav-bar-login" sec:authorize="hasAuthority('ROLE_ADMIN')">
				<a href="/admin">관리자페이지</a>
			</div>

			<div class="nav-bar-login" sec:authorize="isAuthenticated()">
				<a href="/logout">로그아웃</a>
			</div>

			<div class="nav-bar-login" sec:authorize="!isAuthenticated()">
				<a href="/login"> 로그인 </a>
			</div>

			<div class="nav-bar-join nav-bar-login"
				sec:authorize="!isAuthenticated()">
				<a href="/register"> 회원가입 </a>
			</div>

		</div>





	</header>



	<div class="bg-main-video-img">

		<div class="video-img-box">
			<video class="video-1"
				src="videos/main-video-purse.mp4" autoplay muted loop
				preload="auto"></video>
			<div class="text-box">
				<h1 class="fade-in">어떤 능력도 넘어선 특별한 경험,</h1>
				<h1 class="fade-in">
					지금 당신의 <span>초능력</span>을 발견하세요!
				</h1>
				<p class="fade-in">현실을 초월하는 힘을 경험해 보세요, 초능력의 세계에서 당신의 잠재력을
					확인해보세요.</p>
				<button class="btn fade-in">바로가기</button>
				<button class="btn-more fade-in">더 알아보기</button>
			</div>
		</div>

		<div class="video-img-box">
			<img class="img-1"
				src="images/astral-wallpapers-composition-with-planet.jpg">
			<div class="text-box water-text-box">
				<h1 class="fade-in2">물의 능력</h1>
				<p class="fade-in2">
					<span>"물의 능력"</span>은 물의 순환을 지배하며 상상이 현실을 만나는 그 순간, 당신은 창조의 주인이
					됩니다.
				</p>
				<p class="fade-in2">물의 유연성으로 세계를 변화시키고, 진리를 발견하고, 혁신을 일으키세요.</p>
				<p class="fade-in2">물의 웅력을 손에 쥔 당신, 환경을 살리고, 무한한 잠재력을 개척하세요.</p>
				<button class="btn fade-in2">구매하기</button>
				<button class="btn-more fade-in2">더 알아보기</button>
			</div>
		</div>

		<div class="video-img-box">
			<img class="img-1"
				src="images/caucasian-businessman-holding-old-fashioned-metal-stopwatch-generated-by-ai.jpg">
			<div class="text-box time-text-box">
				<h1 class="fade-in3">시간의 능력</h1>
				<p class="fade-in3">
					<span>"시간의 능력"</span>은 당신의 선택을 최적화하고, 소중한 순간을 다시 살 수 있는 기회를 제공합니다.
				</p>
				<p class="fade-in3">다시 한번, 당신의 시간을 극대화하세요.</p>
				<p class="fade-in3">또한 과거와 미래를 여행하며 무한한 가능성을 탐험할 수 있습니다!</p>
				<button class="btn fade-in3">구매하기</button>
				<button class="btn-more fade-in3">더 알아보기</button>
			</div>
		</div>
	</div>

	<div class="controllers">
		<div class="slide-next">
			<img src="icon/free-icon-next-875617.png">
		</div>
		<div class="slide-before">
			<img src="icon/next.png">
		</div>
		<div class="slide-box">
			<button class="slide-1"></button>
			<button class="slide-2"></button>
			<button class="slide-3"></button>
		</div>
	</div>



	<div class="main-text-box">
		<h1>EXPERIENCE SUPERHUMAN ABILITIES</h1>
		<p>You can become stronger</p>
		<h3>FEEL THE LIMITLESS POWER</h3>
	</div>

	<div class="main-text-box2">
		<h1>초능력을 경험하는 것은 오로지 당신의 선택입니다.</h1>
	</div>

	<div class="main-hot-item-box">
		<!-- <div class="hot-item">
      <img src="images/2b3734ff1b37e9793d2093765b79fa49.jpg">
      <div class="hot-item-text">
        <h1>무한한 에너지</h1>
      </div>
    </div>-->
	</div>

	<script>
	
	
    //JSON을 받아서 데이터바인딩 해보기
    
    async function loadImage(productId) {
    	
    	
	  let response = await fetch('/api/productImages/' + productId);
	  
	  let data = await response.json();
	  console.log(data);
	  
	  return data[0]; // 이미지 정보는 배열의 첫번째에 위치한다고 가정
	}
    
    async function loadData() {
    	 let response = await fetch('/api/products');
    	 let datas = await response.json();
      
      console.log(datas);
      
      let classNames = ['mindLink', 'whereDoor', 'telespir', 'symponia', 'tereSycle', 'luminight']; // 상품 배열
      
      for (let i = 0; i < 6; i++) {
        let data = datas[i];
        
        
        let image = await loadImage(data.id); // 이미지 정보 가져오기
        
        let titleHTML;
    
        if (i < classNames.length) {
            titleHTML = `<h1 class="${classNames[i]}">${data.productTitle}</h1>`;
            } else {																	// 배열에있는 값을 각각 class 지정
            titleHTML = `<h1>${data.productTitle}</h1>`;
           }

        const convertTitleToClassName = (title) => {
          return title.replace(' ', '').toLowerCase();
        }
        
        const template = `
                  <div class="hot-item ${convertTitleToClassName(data.productTitle)}">
                      <img src="${image.url}">
                      <div class="hot-item-text">
                          <h1>${titleHTML}</h1>
                          <p class="hot-item-p">${data.productContent}</p>
                          <p class="hot-item-price">${data.productPrice.toLocaleString()}원</p>                      
                      </div>
                      <button>구매하기</button>
                  </div>
              `;

        let mainHotItemBox = document.querySelector('.main-hot-item-box');
        mainHotItemBox.insertAdjacentHTML('beforeend', template);

        
        
        // 마지막에 추가한 요소를 찾아서 애니메이션 적용
        let lastElement = mainHotItemBox.lastElementChild;
        applyAnimation(lastElement, i);
      }
    }

    function applyAnimation(element, index) {
      let observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            setTimeout(() => {
              entry.target.style.animation = `slide-fade-in 0.5s ease-out ${index * 200}ms forwards`;
            }, index * 100); // 200ms delay between each div
          } else {
            entry.target.style.animation = '';
          }
        })
      });
      observer.observe(element);
    }

    loadData();


  </script>

	<div class="reveal-text-box">
		<h1 class="reveal-text">
			<span class="reveal-letter">생</span> <span class="reveal-letter">명</span>
			<span class="reveal-letter">은</span> <span class="reveal-letter">그</span>
			<span class="reveal-letter">무</span> <span class="reveal-letter">엇</span>
			<span class="reveal-letter">과</span> <span class="reveal-letter">도</span>
			<span class="reveal-letter">바</span> <span class="reveal-letter">꿀</span>
			<span class="reveal-letter">수</span> <span class="reveal-letter">없</span>
			<span class="reveal-letter">습</span> <span class="reveal-letter">니</span>
			<span class="reveal-letter">다</span> <span class="reveal-letter">.</span>
		</h1>
		<p>이 능력은 당신의 주변에대해 크나큰 안정을 가져다 줄 것입니다.</p>
	</div>


	<div class="new-item-box fade-in4">
		<div class="new-item-img">
			<img
				src="images/red-art-heart-object-blur-background-with-glitter-shapes-design-concept-holiday-valentine-day-birthday-party-wedding.jpg">

			<div class="new-item-text">
				<h1 class="fade-in4">하트 리젠시아</h1>
				<h2 class="fade-in4">"재생의 능력"</h2>
				<p class="fade-in4">마치 신비로운 힐러처럼, 심장에 생긴 손상은 더 이상 걱정거리가 아닙니다.</p>
				<p class="fade-in4">이 능력은 여러분의 심장이 언제나 최적의 상태를 유지할 수 있도록 보장합니다.
				</p>
				<p class="fade-in4">심장병으로 고통받는 사람들, 아니면 어떤 이유로든 심장에 손상을 입은 사람들에게</p>
				<p class="fade-in4">이는 진정한 생명의 선물일 것입니다. 지금 바로 심장 재생의 놀라운 능력을
					경험해 보세요!"</p>
				<button class="fade-in4">바로가기</button>
			</div>

		</div>


	</div>


	<div class="new-itemtext-box">
		<div class="new-itemtext-img-box">
			<div>
				<a href="#"> <img src="images/Invisible-man.jpg">
				</a>
			</div>
			<div class="new-itemtext-text-box">
				<h1 class="shadow-text">그림자 능력</h1>
				<p>자신을 투명하게 만들어 보이지 않게 하거나, 어둠 속에서 그림자를 조종하는 능력을 가진다면 어떨까요?</p>
				<p>이 능력은 탐험, 스파이활동, 또는 단순히 사람들을 놀라게하는 데 탁월합니다.</p>
				<p>그림자는 우리 모두의 일부이며, 이제 그것을 지배하실 수 있습니다.</p>
				<h3>이미지를 누르면 구매하기 페이지로 이동합니다.</h3>
			</div>
		</div>
	</div>

	<div class="new-itemtext-box">
		<div class="new-itemtext-img-box reversed">
			<div class="new-itemtext-text-box">
				<h1 class="fire-text">불의 능력</h1>
				<p>불을 조종하고, 생성하며, 그 열기를 느끼는 능력은 어떠신가요?</p>
				<p>이 능력은 요리, 방어, 또는 단순히 불꽃 놀이를 좋아하는 사람들에게 완벽합니다.</p>
				<p>자, 이제 불을 두려워하지 마시고 그 힘을 지배해 보세요.</p>
				<h3>이미지를 누르면 구매하기 페이지로 이동합니다.</h3>
			</div>
			<div>
				<a href="#"> <img src="images/fire-man.jpg">
				</a>
			</div>
		</div>
	</div>

	<h1 class="death-text">죽음의 능력</h1>
	<div class="death-itemvideo-box">
		<div class="death-itemvideo-item-box">
			<img src="images/poster-game-death-by-dark-tower.jpg">
			<h3>사후세계란 존재할까요?</h3>
			<p>이 능력은 생명의 주기를 넘어서, 죽음의 힘을 마음대로 다루는 능력입니다.</p>
			<p>다른 사람의 생명을 끊거나, 심지어는 자신의 죽음을 막을 수 있는 이 능력은 매우 강력합니다.</p>
			<p>그러나 함부로 사용하지 않도록 주의해야합니다. 죽음은 존경받아야 하는 자연의 일부이며,</p>
			<p>이 능력은 그것을 이해하고 존중하는 자만이 사용할 수 있습니다.</p>
			<p class="hot-item-price">???원</p>
			<button>구매하기</button>
		</div>

		<div class="death-itemvideo-video-box">
			<video src="videos/death-video.mp4" autoplay muted loop
				preload="auto"></video>
		</div>

	</div>


	<!--  ---------- 푸터 ---------------  -->

	<footer>
		<div class="footer-container">

			<div class="footer-logo-container">
				<img src="icon/Black n White Luxury  Rent Car Logo.png">
				<div class="company-info">
					<h2>회사정보</h2>
					<p>상호 : ...포션이었다 ( 초능력 )</p>
					<p>대표이사 : 김용순,김이슬,양재민,박지해,강호현,박다원</p>
					<p>주소 : 서울특별시 강남구 819 3 삼오빌딩 5-8층</p>
					<p>사업지명 : 비트캠프 강남 본원</p>
					<p>개인정보관리 책임자 : 박지해</p>
					<p>사업자 등록번호 : 211-06-76999</p>
					<p>상품판매업 신고 : 제 강남 - 3381호</p>
					<nav>
						<a href="#">회사소개</a> | <a href="#">쇼핑가이드</a> | <a href="#">개인정보보호정책</a>
						| <a href="#">이용약관</a>
					</nav>
				</div>
			</div>

			<div class="customer-service">
				<h2>고객센터 C/S Center</h2>
				<p>전화 : 010-3511-6158</p>
				<p>팩스 : 02-3486-9600</p>
				<p>이메일 : dydtns1324@naver.com</p>
				<p>카카오톡 ID : kimhj1324</p>
				<p>오전 9시부터 오후 6시까지 상담가능합니다.</p>
			</div>

			<div class="bank-info">
				<h2>무통장 입금 계좌번호 (예금주 : 김용순)</h2>
				<p>국민은행 : 464801 - 01 - 061719</p>
				<p>우리은행 : 1002 - 032 - 538269</p>
				<p>하나은행 : 231 - 910094 - 22507</p>
				<p>농협 : 312-0159-2763-11</p>
			</div>



			<div class="work-hours">
				<h2>근무시간</h2>
				<p>월 ~ 금 AM 9:00 ~ PM 7:00</p>
				<p>점심시간 : PM12 :00 ~ PM 1 : 00</p>
				<p>고객센터 : AM 10: 00 ~ PM6 : 00</p>
			</div>
		</div>

		<div class="naver-map">
			<div id="map" style="width: 100%; height: 500px;"></div>
		</div>

	</footer>





	<script>


    
   
    function observeFadeIn(elements) {
      elements.forEach((element, index) => {
        let observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) {
              setTimeout(() => {
                entry.target.style.animation = `slide-fade-in 0.5s ease-out ${index * 200}ms forwards`;
              }, index * 200); // 200ms delay between each element
            } else {
              entry.target.style.animation = '';
            }
          });
        }); 
        observer.observe(element);
      });
    }
    
    let fadeIns = document.querySelectorAll('.fade-in');
    let fadeIns2 = document.querySelectorAll('.fade-in2');
    let fadeIns3 = document.querySelectorAll('.fade-in3');
    let fadeIns4 = document.querySelectorAll('.fade-in4');
    
    
    observeFadeIn(fadeIns);
    observeFadeIn(fadeIns2);
    observeFadeIn(fadeIns3);
    observeFadeIn(fadeIns4);
   

    let currentSlide = 1;
    function updateSlide() {

      $('.bg-main-video-img').css('transform', `translateX(-${(currentSlide - 1) * 100}vw)`);
      $(".slide-box button").removeClass("active");
      $(`.slide-${currentSlide}`).addClass("active");
    }

    $(".slide-box button").on("click", function () {
      $(".slide-box button").removeClass("active");  // 모든 버튼에서 'active' 클래스 제거
      $(this).addClass("active");  // 클릭한 버튼에 'active' 클래스 추가
    });

    $('.slide-1').on('click', function () {
      currentSlide = 1;
      updateSlide();
    });

    $('.slide-2').on('click', function () {
      currentSlide = 2;
      updateSlide();
    });

    $('.slide-3').on('click', function () {
      currentSlide = 3;
      updateSlide();
    });

    $('.slide-next').on('click', function () {
      currentSlide = currentSlide === 3 ? 1 : currentSlide + 1;
      updateSlide();
    });

    $('.slide-before').on('click', function () {
      currentSlide = currentSlide === 1 ? 3 : currentSlide - 1;
      updateSlide();
    });



    let letters = document.querySelectorAll('.reveal-letter');

    letters.forEach((letter, index) => {
      let observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            setTimeout(() => {
              entry.target.style.opacity = 1;
            }, index * 100); // 100ms delay between each letter
          } else {
            entry.target.style.opacity = 0;
          }
        })
      });

      observer.observe(letter);
    });


    /*  네이버 맵 지도 API 코드 ---------------------------------------*/

			    var mapOptions = {
			      center: new naver.maps.LatLng(37.4994156, 127.0290255),
			      zoom: 40,
			    };
			    var map = new naver.maps.Map('map',mapOptions);
			
			    var openStreetMapType = new naver.maps.ImageMapType({
			      name: 'OSM',
			      minZoom: 0,
			      maxZoom: 19,
			      tileSize: new naver.maps.Size(256, 256),
			      projection: naver.maps.EPSG3857,
			      repeatX: true,
			      tileSet: [
			          "https://a.tile.openstreetmap.org/{z}/{x}/{y}.png",
			          "https://b.tile.openstreetmap.org/{z}/{x}/{y}.png",
			          "https://c.tile.openstreetmap.org/{z}/{x}/{y}.png"
			      ],
			      provider: [{
			          title: " /OpenStreetMap",
			          link: "http://www.openstreetmap.org/copyright"
			      }]
			  });
			  
			  var map = new naver.maps.Map('map', {
			    center: new naver.maps.LatLng(37.4994156, 127.0290255),
			      zoom: 20,
			      mapTypeControl: true,
			      mapTypeControlOptions: {
			          style: naver.maps.MapTypeControlStyle.BUTTON
			      }
			  });
			  
			  map.mapTypes.set('osm', openStreetMapType);
			  
			  var korea = new naver.maps.LatLngBounds(
			      new naver.maps.LatLng(30.1391277, 115.0607471),
			      new naver.maps.LatLng(48.940448, 139.7803655));
			  
			  var listener = null,
			      projectionChanged = false;
			  
			  function checkBounds() {
			      if (projectionChanged) {
			          projectionChanged = false;
			  
			          return;
			      }
			  
			      var bounds = map.getBounds();
			  
			      if (korea.hasBounds(bounds)) {
			          if (map.getMapTypeId() === "osm") {
			              map.setMapTypeId("normal");
			          }
			      } else {
			          if (map.getMapTypeId() !== "osm") {
			              map.setMapTypeId("osm");
			          }
			      }
			  }
			  
			  function listen() {
			      listener = naver.maps.Event.addListener(map, 'idle', checkBounds);
			  }
			  
			  function unlisten() {
			      naver.maps.Event.removeListener(listener);
			      listener = null;
			  }
			  
			  naver.maps.Event.addListener(map, 'zooming', function(e) {
			      unlisten();
			  
			      naver.maps.Event.once(map, 'idle', function() {
			          listen();
			      });
			  });
			  
			  listen();
			
			  var markerOptions = {
			    position: new naver.maps.LatLng(37.4994156, 127.0290255),  // 강남구 비트캠프의 위도, 경도
			    map: map
			  };
			
			  var marker = new naver.maps.Marker(markerOptions);
			
			  var contentString = [
			  '<div class="iw_inner" style="text-align : center; ">',
			  '   <h3>비트캠프 강남점</h3>',
			  '   <p>서울특별시 강남구 테헤란로 212<br />',
			  '       연락처 : 02-3486-9600<br />',
			  '       <a href="https://bitcamp.co.kr" target="_blank" style="text-decoration : none;">홈페이지 바로가기</a></p>',
			  '</div>'
			].join('');
			
			var infowindow = new naver.maps.InfoWindow({
			  content: contentString
			});
			
			naver.maps.Event.addListener(marker, "click", function(e) {
			  if (infowindow.getMap()) {
			      infowindow.close();
			  } else {
			      infowindow.open(map, marker);
			  }
			});
			
			infowindow.open(map, marker);

  </script>






</body>

</html>